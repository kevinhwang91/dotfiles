set number
set relativenumber
set clipboard=unnamedplus
set ignorecase
set smartcase
set hlsearch
set incsearch
set visualbell
set showcmd
set showmode
set timeout
set timeoutlen=500

set ideajoin
set idearefactormode=select

let mapleader = ' '

set multiple-cursors
set highlightedyank
let g:highlightedyank_highlight_color = 'rgba(209, 154, 102, 100)'
let g:highlightedyank_highlight_duration = '800'

set argtextobj

set NERDTree
let g:NERDTreeMapCloseDir = 'h'
let g:NERDTreeMapOpenRecursively = 'l'

set surround
unmap ds
nmap sd <Plug>DSurround
nnoremap s d
xnoremap s d
onoremap s d
nnoremap d <C-d>
xnoremap d <C-d>
nnoremap u <C-u>
xnoremap u <C-u>
nnoremap <C-u> u

nnoremap ' `
xnoremap ' `
onoremap ' `
nnoremap ` '
xnoremap ` '
onoremap ` '
nnoremap g' g`
xnoremap g' g`
onoremap g' g`
nnoremap g` g'
xnoremap g` g'
onoremap g` g'
nnoremap m' m`
xnoremap m' m`
nnoremap m` m'
xnoremap m` m'

nnoremap q <Nop>
" nnoremap qq :q<CR>
" It closes the current buffer instead of the current window.
nnoremap qq <C-w>c
nnoremap qa :qa<CR>

nnoremap - "_
xnoremap - "_
nnoremap <leader>3 :edit #<CR>
nnoremap <leader>l :nohlsearch<CR>
nnoremap Y y$

cnoremap <C-b> <Left>
cnoremap <C-f> <Right>
cnoremap <C-a> <Home>

nmap <C-o> <Action>(Back)
nmap <C-i> <Action>(Forward)
nmap g; <Action>(JumpToLastChange)
nmap g, <Action>(JumpToNextChange)
nmap gd <Action>(GotoDeclaration)
nmap gi <Action>(GotoImplementation)
nmap gr <Action>(ShowUsages)
nmap gp <Action>(GotoSuperMethod)
nmap gy <Action>(GotoTypeDeclaration)

" ge]M $[M % w o ge]M ge
xnoremap if ge]M$[M%woge]Mge

" ge]M $[M % bF)%_ o ge]M
xnoremap af ge]M$[M%bF)%_oge]M

nnoremap * my*`y
nnoremap # my#`y

xnoremap * "yy/<C-r>s<CR>N
xnoremap # "yy?<C-r>s<CR>N

nmap + <Action>(EditorSelectWord)
xmap + <Action>(EditorSelectWord)

noremap 'a `A
noremap 'b `B
noremap 'c `C
noremap 'd `D
noremap 'e `E
noremap 'f `F
noremap 'g `G
noremap 'h `H
noremap 'i `I
noremap 'j `J
noremap 'k `K
noremap 'l `L
noremap 'm `M
noremap 'n `N
noremap 'o `O
noremap 'p `P
noremap 'q `Q
noremap 'r `R
noremap 's `S
noremap 't `T
noremap 'u `U
noremap 'v `V
noremap 'w `W
noremap 'x `X
noremap 'y `Y
noremap 'z `Z
noremap ma mA
noremap mb mB
noremap mc mC
noremap md mD
noremap me mE
noremap mf mF
noremap mg mG
noremap mh mH
noremap mi mI
noremap mj mJ
noremap mk mK
noremap ml mL
noremap mm mM
noremap mn mN
noremap mo mO
noremap mp mP
noremap mq mQ
noremap mr mR
noremap ms mS
noremap mt mT
noremap mu mU
noremap mv mV
noremap mw mW
noremap mx mX
noremap my mY
noremap mz mZ
nmap m; <Action>(ToggleBookmarkWithMnemonic)
noremap m<space> :delmarks A-Z0-9<CR>
nmap <leader>fm <Action>(ShowBookmarks)

nmap <leader>sr <Action>(SurroundWith)
xmap <leader>sr <Action>(SurroundWith)
nmap <leader>su <Action>(Unwrap)
xmap <leader>su <Action>(Unwrap)

nmap <leader>gb <Action>(Annotate)
nmap <leader>gp <Action>(Vcs.QuickListPopupAction)
nmap <leader>gm <Action>(Vcs.ShowHistoryForBlock)

nmap <leader>rf <Action>(RenameFile)
nmap <leader>rn <Action>(RenameElement)

nmap <leader>fa <Action>(GotoAction)
nmap <leader>fc <Action>(GotoClass)
nmap <leader>ff <Action>(GotoFile)
nmap <leader>fs <Action>(GotoSymbol)

nmap <leader>ft <Action>(FileStructurePopup)
nmap <leader>fu <Action>(FindUsages)

nmap <leader>hc <Action>(CallHierarchy)
nmap <leader>hm <Action>(MethodHierarchy)
nmap <leader>ht <Action>(TypeHierarchy)

nmap <leader>fp <Action>(ViewBreakpoints)

nmap <leader>hp <Action>(VcsShowCurrentChangeMarker)
nmap <leader>hu <Action>(Vcs.RollbackChangedLines)
nmap <leader>gg <Action>(ActivateVersionControlToolWindow)
nmap <leader>gc <Action>(CheckinProject)
nmap <leader>gl <Action>(Vcs.Show.Log)
nmap <leader>gf <Action>(Vcs.ShowTabbedFileHistory)
xmap <leader>gf <Action>(Vcs.ShowHistoryForBlock)
nmap <leader>gd <Action>(Compare.SameVersion)

nmap <A-u> <Action>(LocalHistory.ShowHistory)
xmap <A-u> <Action>(LocalHistory.ShowSelectionHistory)

nmap [c <Action>(VcsShowPrevChangeMarker)
nmap ]c <Action>(VcsShowNextChangeMarker)

nmap <leader>td <Action>(ShowErrorDescription)
nmap [d <Action>(GotoPreviousError)
nmap ]d <Action>(GotoNextError)

nmap <leader>jj <Action>(RecentLocations)

nmap <leader>rg <Action>(FindInPath)
